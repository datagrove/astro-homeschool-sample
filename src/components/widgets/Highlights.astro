---
import { getCollection } from 'astro:content';

const highlights = await getCollection('highlights', ({ data }) => {
    return data.draft !== true;
})
---

<div class="">
    <div class="flex">
       {
        highlights.map((highlight) => (
            <div class="flex flex-col items-center bg-dgPrimary m-1 w-1/3">
                <div class="py-4">
                    <img 
                        src={ highlight.data.icon } 
                        alt={ highlight.data.alt }
                        class="h-24 bg-white rounded-full"
                    />
                </div>

                <div class="">
                    <h1 set:html={ highlight.data.title } class="text-center text-green-700 text-lg"/>
                    <p set:html={ highlight.data.description } class="text-center text-white text-sm p-2"/>
                </div>

            </div>
        ))
       }
    </div>
</div>

<script define:vars={{ highlights}}>
    console.log(highlights)
</script>